<h1 class="title">Encode > List</h1>
<video-js controls autoplay preload class="vjs-theme-sea" id="player-id" data-setup='{"liveui": true,"fluid": true}'>
  <source src="https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8" type="application/x-mpegurl">
</video-js>

<div class="table-container">
  <table class="table is-narrow is-hoverable is-fullwidth" id="encodes">
    <thead>
    <tr>
      <th>ID</th>
      <th>Title</th>
      <th>File name</th>
      <th>Runtime</th>
      <th>Url</th>
      <th>Created at</th>
      <th>Completed</th>
      <th>Thumbnail</th>
    </tr>
    </thead>
    <tbody>
    <% @encodes.each do |encode| %>
      <tr id="encode_id" data-encode-id="<%= encode.id %>">
        <th><%= link_to encode.id, encode, class: "button is-success" %></th>
        <td><%= link_to encode.title, encode %></td>
        <td><%= encode.file.filename if encode.file.attached? %></td>
        <td><%= encode.runtime %></td>
        <td><%= encode.url %></td>
        <td><%= encode.created_at %></td>
        <td id="status_<%= encode.id %>"><%= encode.completed %></td>
        <td>
          <% if encode.thumbnails.first %>
          <figure class="image is-16by9">
            <%= image_tag url_for(encode.thumbnails.first) %>
          </figure>
          <% end %>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>
</div>
<%= paginate @encodes %>
<%= link_to 'New Encode', new_encode_path, class: "button is-primary" %>